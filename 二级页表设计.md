### 二级页表设计

一个页表映射的内存大小是4KB。一个页目录像有1024个表项（0-1023），其中一个表项可以映射到的内存大小是：4byte *1024 *1024 => 4MB。

其中页目录项我打算分3GB给用户进程，1GB分给内核进程。所以用户进程的表项=> 3GB/4MB => 768。也就是说页目录项中的0-767项映射为用户进程，而从768项开始一直到1023项都映射的是内核进程。

在实际物理内存中，**内核**位于物理内存中的低1MB中，即`0-0xfffff`。紧接着从`0x100000-0x100fff`这4KB存放的是**页目录项表**，再往下的`0x101000开始`即是**页表**的存放处。



目录项表映射情况如下：

```
—————————————————— 0x100000(低)
|___mbr、loader___| => 为适应分页前，也映射内核的1MB空间
|		 		  |
|		 		  |
|		3G	      |	
|				  |
|—————————————————|0x100c00
|    1G映射内核    | => 映射物理内存上1MB的内核空间
—————————————————— 0x101000(高)
```
页目录项0和0xc00这两个都映射同一个页表->【第一个页表】，这个页表映射4MB物理内存，前1MB中是内核。
